(this.webpackJsonpKiss_The_Sky=this.webpackJsonpKiss_The_Sky||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/paginate_arrow.3553549d.svg"},function(e){e.exports=JSON.parse('[{"pistil":"#E0993E","petal":"#C90606"},{"pistil":"#E0993E","petal":"#E8B741"},{"pistil":"#E0993E","petal":"#E76335"},{"pistil":"#E0993E","petal":"#889ACD"},{"pistil":"#E0993E","petal":"#30C1B3"},{"pistil":"#E0993E","petal":"#A330C1"},{"pistil":"#E0993E","petal":"#F5E8A8"},{"pistil":"#E0993E","petal":"#EEEEEE"},{"pistil":"#E0993E","petal":"#FF0DCB"},{"pistil":"#E0993E","petal":"#0E7FD9"}]')},,function(e,t,a){e.exports=a.p+"static/media/icon_loading.ec8e459a.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_check_green.288cc37e.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_exit_modal_red.562ce5e1.svg"},,,function(e,t,a){e.exports=a.p+"static/media/title_header_dark.51aa020b.png"},,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/icon_exit_modal_black.fcac8229.svg"},function(e,t,a){e.exports=a.p+"static/media/edit_icon.0d511424.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_menu.be660857.svg"},function(e,t,a){e.exports=a.p+"static/media/title_header_light.0dc8ca49.png"},function(e,t,a){e.exports=a.p+"static/media/resume_button.f48696c0.svg"},function(e,t,a){e.exports=a.p+"static/media/start_button.f48696c0.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_exit_modal.906a3591.svg"},,,function(e,t,a){e.exports=a(83)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(30),o=a.n(i),r=(a(46),a(47),a(3)),l=a(2),c=a(4),p=a.n(c),m=function(){return p.a.put("/api/manifest")},d=function(){return p.a.get("/api/user")},h=function(e){return p.a.post("/api/user",e)},g=function(){return p.a.get("/api/user/logout")},u=function(e){return p.a.post("/api/user/signup",e)},E=function(e){return p.a.post("/api/user/checkavailable",e)},v=function(e){return p.a.put("/api/user/changeAvatar",e)},f=function(e){return p.a.post("/api/saved",e)},S=function(e){return p.a.put("/api/saved",e)},w=function(e){return p.a.post("/api/saved/resume",{_id:e})},y=function(e){return p.a.post("/api/saved/delete",e)},N=function(e){return p.a.put("/api/saved/update",e)},b=function(e){return p.a.post("/api/winner",e)},k=function(e){let{difficulty:t,page:a}=e;return p.a.get("/api/winner/leaderboard/"+t+"/"+a)},C=function(e){return p.a.get("/api/winner/myhighscores")},M=a(14),I={getUser:function(e){console.log("\ud83d\udcdc check for logged in session user"),d().then(t=>{t.data.user?this.updateUser(e,t.data.user):(console.log(" - \ud83d\udcdc No Session User Logged In"),e.set({waitingforSession:!1}),e.fn("handleHash"))}).catch(e=>console.log(e))},updateUser:function(e,t){t.username?console.log(" - \ud83d\udcdc \ud83d\udc64 User Logged In > ",t):console.log(" - \ud83d\udcdc \ud83d\udc64 User Logged Out"),e.set({username:t.username,created_at:t.created_at,_id:t._id,avatar:t.avatar||!1,waitingforSession:!1,signUpLogIn:!1}),window.resume()},logIn:function(e,t){let{username:a,password:s}=t;console.log("\ud83d\udc64 Log In: user: ",a),h({username:a,password:s}).then(t=>{t.data._id?this.updateUser(e,t.data,t.data.avatar):alert(t.data.message)}).catch(e=>console.log(e))},signUp:function(e,t){let{username:a,password:s,email:n}=t;console.log("\ud83d\udc46 Sign UP > newUser: ",a);const i={colors:M[window._rand(0,M.length-1)]};u({username:a,password:s,email:n,avatar:i}).then(t=>{t.data._id?this.logIn(e,{username:a,password:s}):alert(t.data.errors)}).catch(e=>console.log(e))},logOut:function(e){console.log("\u270c\ufe0f log Out: user: ",e.username),g().then(e=>{window.location.href="/"}).catch(e=>console.log(e)).finally(()=>{e.set({forceClose:!0})})},checkAvailable:async function(e){return console.log("\ud83d\udcdd Check if "+JSON.stringify(e)+" is available"),E(e).then(e=>e.data).catch(e=>console.log(e))},changeAvatar:function(e,t){console.log("\ud83c\udf38 Change Avatar ",e),v(e).then(e=>{t.set({avatar:{colors:e.data.updatedColor}})}).catch(e=>console.log(e))}},x={getManifest(e){console.log("\ud83e\uddee requesting manifest from API"),m().then(t=>{console.log(" - \ud83e\uddee manifest :",t.data),e.set({manifest:t.data})}).catch(e=>console.log(e))}};a(66);var _=function(){return n.a.createElement("div",{className:"e404"},n.a.createElement("div",{className:"e404-title"},"404 Unknown Page"),n.a.createElement(r.b,{to:"/",className:"kts-link"},"/home"))},L=function(e){b(e).then(e=>console.log(" - \ud83c\udf86 \ud83c\udf1f \ud83d\udc64 new winning score! :",e.data)).catch(e=>console.log(e))},F=function(e,t,a){k({difficulty:t,page:a}).then(s=>{console.log("\n \ud83c\udf1f leaderboard \ud83c\udf1f ",s.data),e.set({leaderboard:s.data.leaderboard,leaderboardRef:{difficulty:t,page:a}})}).catch(e=>console.log(e))},Y=function(e){C().then(t=>{console.log(" - \ud83c\udf1f \ud83d\udc64 user high scores :",t.data),e.set({myHighScores:t.data||[]})}).catch(e=>console.log(e))},O={saved:function(e){e.set({savedGames:[]}),f().then(t=>{console.log(" - \ud83d\udc64 \ud83d\udcbe\ud83d\udcbe\ud83d\udcbe \ud83c\udf3a savedGames :",t.data),e.set({savedGames:t.data||[]})}).catch(e=>console.log(e))},save:function(e,t){if(window.pause(),window.localSavedGameData={},window.saveGame(),e.username&&e._id){const a=JSON.parse(window.localSavedGameData);S({username:e.username,manifest:{title:t,date:a.timeStamp,ambientMode:a.ambientMode,gameDifficulty:a.gameDifficulty,currentSeason:a.currentSeason,currentYear:a.currentYear,highestRedFlowerPct:a.highestRedFlowerPct},game:window.localSavedGameData}).then(e=>{alert("game saved \ud83d\udc4d"),window.resume(),console.log(" - \ud83d\udc64 \ud83d\udcbe \ud83c\udf3a save :",e.data)}).catch(e=>console.log(e))}else e.fn("handleHash","login"),e.set({forceClose:!0})},resume:function(e,t){w(e).then(e=>{console.log(" - \ud83d\udc64 \ud83d\udcbe \ud83d\udca5 \ud83c\udf3a resume saved game :",e),window.resumeState(e.data),t.push("/game"),setTimeout((function(){Array.from(document.querySelectorAll(".header_item")).map(e=>e.style.display="block")}),10)}).catch(e=>console.log(e))},delete:function(e,t,a){y({saved_id:t,_id:a}).then(t=>{console.log(" - \ud83d\udc64 \ud83d\udcdb \ud83c\udf3a deleted :",t.data),this.saved(e)}).catch(e=>console.log(e))},update:function(e,t,a,s,n){N({saved_id:t,_id:a,field:s,value:n}).then(t=>{console.log(" - \ud83d\udc64 \u261d\ufe0f \ud83c\udf3a updated :",t.data),this.saved(e)}).catch(e=>console.log(e))}};a(72);class D extends s.Component{constructor(){super(...arguments),this.state={opacity:1},this.gameWon=e=>{e.avatar=this.props.appState.avatar,L(e)},this.gameSave=()=>{if(console.log(this.props.appState),this.props.appState.username){const e=prompt("Save Session as... (You can change this name later)","untitled");e&&O.save(this.props.appState,e)}else alert("Please log in to save.")},this.toggleIcon=()=>{this.props.appState.set({showIcon:!0})}}componentDidMount(){const e=document.getElementById("game");e.style.display="block",e.style.opacity=1;const t=this.props.history.location.pathname;(this.props.gameLoaded||["/","/game","/landing","/home"].includes(t))&&window.requestAnimationFrame(()=>{this.setState({opacity:0})}),this.props.appState.set({gameLoaded:!0}),window.createReactCallbacks(this.gameWon,this.gameSave,this.toggleIcon)}componentWillUnmount(){document.getElementById("game").style.display="none"}render(){return n.a.createElement("div",{className:"game",style:{opacity:"".concat(this.state.opacity)}})}}var U=D,G=a(84),P=a(85),A=a(86),B=a(10),R=a.n(B);a(74),a(75);var W=e=>n.a.createElement("svg",{alt:"flower avatar",className:"flower-avatar",style:{maxWidth:"".concat(e.hide?"0px":e.size+"px"),paddingRight:"".concat(e.hide?"12px":"0px")},width:e.hide?"0px":e.size+"px",height:e.hide?"0px":e.size+"px",viewBox:"0 0 43 49",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.a.createElement("g",{id:"page-header-right",transform:"translate(-41.000000, -1.000000)",fillRule:"nonzero"},n.a.createElement("g",{id:"header-right"},n.a.createElement("g",{id:"header-right-(logged-in,-closed)"},n.a.createElement("g",{id:"avatar",transform:"translate(37.000000, 0.000000)"},n.a.createElement("g",{id:"flower-avatar",transform:"translate(4.000000, 1.000000)"},n.a.createElement("polygon",{id:"hex",fill:e.colors?e.colors.pistil:"#E0993E",points:"25.1 17.2 29.2 24.0996728 25.2 31 17.1 31.1 13 24.0996728 17 17.3044867"}),n.a.createElement("path",{id:"petals",fill:e.colors?e.colors.petal:"#0E7FD9",d:"M17.1278935,17.3044867 C13.7293999,10.6254606 15.0510363,4.85729839 21.0928027,0 C27.134569,4.85729839 28.4562054,10.6254606 25.0577118,17.3044867 L17.1278935,17.3044867 Z M25.0577118,17.3044867 C29.2041618,11.052751 34.9134596,9.30120091 42.1856053,12.0498364 C40.955226,19.6557703 36.5675645,23.6723824 29.022621,24.0996728 L25.0577118,17.3044867 Z M29.022621,24.0996728 C36.5675645,24.5269632 40.955226,28.5435753 42.1856053,36.1495092 C34.9134596,38.8981447 29.2041618,37.1465946 25.0577118,30.8948589 L29.022621,24.0996728 Z M25.0577118,30.8948589 C28.4562054,37.573885 27.134569,43.3420472 21.0928027,48.1993456 C15.0510363,43.3420472 13.7293999,37.573885 17.1278935,30.8948589 L25.0577118,30.8948589 Z M17.1278935,30.8948589 C12.9814436,37.1465946 7.27214573,38.8981447 2.84217094e-14,36.1495092 C1.23037938,28.5435753 5.61804082,24.5269632 13.1629843,24.0996728 L17.1278935,30.8948589 Z M13.1629843,24.0996728 C5.61804082,23.6723824 1.23037938,19.6557703 1.10134124e-13,12.0498364 C7.27214573,9.30120091 12.9814436,11.052751 17.1278935,17.3044867 L13.1629843,24.0996728 Z"})))))))),T=a(32),H=a.n(T),z=a(33),Z=a.n(z);a(76);class j extends s.Component{constructor(){super(...arguments),this.checkForSavedGames=()=>{O.saved(this.props.appState)},this.resume=e=>{O.resume(this.props.appState.savedGames[e].saved_id,this.props.history)},this.update=e=>{const t=this.props.appState.savedGames[e].title,a=prompt("Change Saved Session title.",t);a?O.update(this.props.appState,this.props.appState.savedGames[e].saved_id,this.props.appState.savedGames[e]._id,"title",a):console.log("cancel update")},this.delete=e=>{const t=this.props.appState.savedGames[e].title;window.confirm('Are you sure you want to delete "'+t+'"?')?O.delete(this.props.appState,this.props.appState.savedGames[e].saved_id,this.props.appState.savedGames[e]._id):console.log("cancel delete")}}componentDidMount(){this.checkForSavedGames()}render(){return n.a.createElement("div",{className:"savedSessions"},this.props.appState.savedGames.length>0&&this.props.appState.savedGames.map((e,t)=>{const a=R()(e.date,"YYYY-MM-DD").format("M/D/YY").replace(/0/g,"O");return n.a.createElement("div",{className:"saved-container",key:t},n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"details",onClick:()=>this.resume(t)},n.a.createElement("div",{className:"title",title:e.title},e.title.replace(/0/g,"O")),n.a.createElement("div",{className:"date"},a),n.a.createElement("div",{className:"mode"},e.ambientMode?"Ambient Mode":"Game Mode ("+window._cap(e.gameDifficulty)+", "+Math.floor(e.highestRedFlowerPct).toString().replace(/0/g,"O")+"%)"),n.a.createElement("div",{className:"year"},"Year ",e.currentYear.toString().replace(/0/g,"O"),", ",e.currentSeason)),n.a.createElement("th",{className:"icons-container",onClick:()=>this.update(t)},n.a.createElement("div",{className:"icons"},n.a.createElement("img",{className:"edit",src:Z.a,alt:"edit icon"}))),n.a.createElement("th",{className:"icons-container",onClick:()=>this.delete(t)},n.a.createElement("div",{className:"icons"},n.a.createElement("img",{className:"exit",src:H.a,alt:"delete saved session button"})))))))}),this.props.appState.savedGames.length<=0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"no-saved-sessions"}," ... no saved sessions ... ")))}}var q=j,K=(a(77),a(13)),J=a.n(K);class $ extends s.Component{constructor(){super(...arguments),this.state={scoresPage:1}}componentDidMount(){Y(this.props.appState)}render(){const e=this.props.appState.myHighScores;let t,a,s,i;if(e){t=e.filter(e=>"beginner"===e.difficulty).sort((e,t)=>e.years-t.years)[0];a=e.filter(e=>"intermediate"===e.difficulty).sort((e,t)=>e.years-t.years)[0];s=e.filter(e=>"expert"===e.difficulty).sort((e,t)=>e.years-t.years)[0],i=e.sort((e,t)=>e.years-t.years).slice(10*(this.state.scoresPage-1),10*this.state.scoresPage)}return n.a.createElement("div",{className:"myHighScores"},n.a.createElement("div",{className:"best"},"Best Scores"),n.a.createElement("div",{className:"score-card beginner"},n.a.createElement("div",{className:"title"}," Beginner "),n.a.createElement("div",{className:"sub-title"}," Red Flower Garden "),t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"rank"}," #",t.rank.toString().replace(/0/g,"O")," "),"You kissed the sky in",n.a.createElement("div",{className:"years"}," ",t.years.replace(/0/g,"O")," "),"years",n.a.createElement("div",{className:"date"},"on ",R()(t.date,"YYYY-MM-DD").format("M/D/YY").replace(/0/g,"O"))),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"none-yet"}," None yet. "),n.a.createElement("div",{className:"keep-trying"}," Keep trying! ")),n.a.createElement("a",{href:"/leaderboard/beginner",class:"leaderboard-links"}," Beginner Leaderboard > ")),n.a.createElement("div",{className:"score-card intermediate"},n.a.createElement("div",{className:"title"}," Intermediate "),n.a.createElement("div",{className:"sub-title"}," Colorful Flower Garden "),a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"rank"}," #",a.rank.toString().replace(/0/g,"O")," "),"You kissed the sky in",n.a.createElement("div",{className:"years"}," ",a.years.replace(/0/g,"O")," "),"years",n.a.createElement("div",{className:"date"},"on ",R()(a.date,"YYYY-MM-DD").format("M/D/YY").replace(/0/g,"O"))),!a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"none-yet"}," None yet. "),n.a.createElement("div",{className:"keep-trying"}," Keep trying! ")),n.a.createElement("a",{href:"/leaderboard/intermediate",class:"leaderboard-links"}," Intermediate Leaderboard > ")),n.a.createElement("div",{className:"score-card expert"},n.a.createElement("div",{className:"title"}," Expert "),n.a.createElement("div",{className:"sub-title"}," Tiny White Flower "),s&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"rank"}," #",s.rank.toString().replace(/0/g,"O")," "),"You kissed the sky in",n.a.createElement("div",{className:"years"}," ",s.years.replace(/0/g,"O")," "),"years",n.a.createElement("div",{className:"date"},"on ",R()(s.date,"YYYY-MM-DD").format("M/D/YY").replace(/0/g,"O"))),!s&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"none-yet"}," None yet. "),n.a.createElement("div",{className:"keep-trying"}," Keep trying! ")),n.a.createElement("a",{href:"/leaderboard/expert",class:"leaderboard-links"}," Expert Leaderboard > ")),this.props.appState.myHighScores.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"all"},"All Scores"),n.a.createElement("div",{className:"scores-container"},i.map((e,t)=>n.a.createElement("div",{className:"score-container",key:t},n.a.createElement("div",{className:"rank"},"#",e.rank.toString().replace(/0/g,"O"),"\xa0 \xa0",e.difficulty),R()(e.date,"YYYY-MM-DD").format("M/D/YY").replace(/0/g,"O"),n.a.createElement("div",{style:{float:"right"}},e.years.replace(/0/g,"O")," years")))),n.a.createElement("button",{className:"paginate "+(this.state.scoresPage>1?"":"disable"),onClick:()=>this.setState({scoresPage:this.state.scoresPage-1})},n.a.createElement("img",{className:"arrow left",src:J.a,alt:"icon menu"})),n.a.createElement("button",{className:"paginate "+(10*this.state.scoresPage<e.length?"":"disable"),onClick:()=>this.setState({scoresPage:this.state.scoresPage+1})},n.a.createElement("img",{className:"arrow right",src:J.a,alt:"icon menu"}))))}}var Q=$;a(78);var V=e=>n.a.createElement("div",{className:"settings"},"Select alternate flower avatar. ",n.a.createElement("br",null),n.a.createElement("br",null),M.map((t,a)=>n.a.createElement("div",{className:"flower-options",key:a,onClick:()=>{!function(t){I.changeAvatar(t,e.appState)}(t)}},n.a.createElement("div",{className:"flower-avatar-container"},n.a.createElement(W,{colors:t,size:50,appState:e.appState})))),n.a.createElement("div",{className:"message"},"For questions and support,",n.a.createElement("br",null),"email us at ",n.a.createElement("br",null),n.a.createElement("a",{href:"support@kissthesky.game"},"support@kissthesky.app")));class X extends s.Component{constructor(){super(...arguments),this.state={opacity:0,history:this.props.history,route:""}}componentDidMount(){this.props.appState.set({showGame:!1}),window.requestAnimationFrame(()=>{this.setState({opacity:1})}),window.pause()}componentWillUnmount(){this.props.appState.set({showGame:!0})}componentDidUpdate(){this.props.appState.username||this.props.appState.waitingforSession||this.state.history.push("/")}render(){const e=this.props.history.location.pathname.split("/");e[2]||(e[2]="savedsessions");const t=R()(this.props.appState.created_at,"YYYY-MM-DD").format("MMM, Do YYYY").replace(/0/g,"O");return n.a.createElement("div",{className:"dashboard",style:{opacity:"".concat(this.state.opacity)}},n.a.createElement("div",{className:"title"},n.a.createElement("div",{className:"flower-avatar-container"},n.a.createElement(W,{hide:!this.props.appState.username,colors:this.props.appState.avatar.colors,size:60,appState:this.props.appState})),n.a.createElement("div",{className:"user"},n.a.createElement("div",{className:"username"},this.props.appState.username),n.a.createElement("div",{className:"member"},this.props.appState.created_at&&n.a.createElement(n.a.Fragment,null,"Member since ",t)))),n.a.createElement(G.a,null,n.a.createElement(P.a,{className:"dashboard-levels"},n.a.createElement(A.a,{md:4,className:"container"},n.a.createElement(r.b,{to:"/dashboard/savedsessions",className:"link"},n.a.createElement("div",{className:"title "+("savedsessions"===e[2]?"active":"")},"Saved Sessions"))),n.a.createElement(A.a,{md:4,className:"container"},n.a.createElement(r.b,{to:"/dashboard/myhighscores",className:"link"},n.a.createElement("div",{className:"title "+("myhighscores"===e[2]?"active":"")},"My High Scores"))),n.a.createElement(A.a,{md:4,className:"container"},n.a.createElement(r.b,{to:"/dashboard/settings",className:"link"},n.a.createElement("div",{className:"title "+("settings"===e[2]?"active":"")},"Settings"))))),n.a.createElement(G.a,{className:"dashboard-container"},(!e[2]||"savedsessions"===e[2])&&n.a.createElement(n.a.Fragment,null,n.a.createElement(q,{appState:this.props.appState,history:this.state.history})),"myhighscores"===e[2]&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Q,{appState:this.props.appState,viewMyScores:this.state.viewMyScores})),"settings"===e[2]&&n.a.createElement(n.a.Fragment,null,n.a.createElement(V,{appState:this.props.appState}))))}}var ee=X;a(79);class te extends s.Component{constructor(){super(...arguments),this.state={opacity:0},this.toggledDifficulty=e=>{F(this.props.appState,e,1)}}componentDidMount(){this.props.appState.set({showGame:!1}),window.requestAnimationFrame(()=>{this.setState({opacity:1})}),window.pause();const e=this.props.history.location.pathname.split("/");e[2]||(e[2]="expert"),F(this.props.appState,e[2],this.props.appState.leaderboardRef.page)}componentWillUnmount(){this.props.appState.set({showGame:!0})}paginate(e){F(this.props.appState,this.props.appState.leaderboardRef.difficulty,this.props.appState.leaderboardRef.page+("left"===e?-1:1))}render(){const e=this.props.history.location.pathname.split("/");e[2]||(e[2]="expert");const t=this.props.appState.leaderboard.length,a=this.props.appState.leaderboardRef.page;return n.a.createElement("div",{className:"leaderboard",style:{opacity:"".concat(this.state.opacity)}},n.a.createElement("div",{className:"leaderboard-header"},"Leaderboard",n.a.createElement("div",{className:"leaderboard-subtitle"},"All-Time High Scores")),n.a.createElement(G.a,null,n.a.createElement(P.a,{className:"leaderboard-levels"},n.a.createElement(A.a,{md:4,className:"container "+("beginner"===e[2]?"active":"")},n.a.createElement(r.b,{to:"/leaderboard/beginner",className:"link",onClick:()=>this.toggledDifficulty("beginner")},n.a.createElement("div",{className:"level beg"},n.a.createElement("div",{className:"title"},"Beginner"),n.a.createElement("div",{className:"subtitle"}," Red Flower Garden ")))),n.a.createElement(A.a,{md:4,className:"container "+("intermediate"===e[2]?"active":"")},n.a.createElement(r.b,{to:"/leaderboard/intermediate",className:"link",onClick:()=>this.toggledDifficulty("intermediate")},n.a.createElement("div",{className:"level int"},n.a.createElement("div",{className:"title"},"Intermediate"),n.a.createElement("div",{className:"subtitle"}," Colorful Garden ")))),n.a.createElement(A.a,{md:4,className:"container "+("expert"===e[2]?"active":"")},n.a.createElement(r.b,{to:"/leaderboard/expert",className:"link",onClick:()=>this.toggledDifficulty("expert")},n.a.createElement("div",{className:"level exp"},n.a.createElement("div",{className:"title"},"Expert"),n.a.createElement("div",{className:"subtitle"}," Tiny White Flower ")))))),n.a.createElement(G.a,{className:"leaderboard-ranks"},this.props.appState.leaderboard.length>0&&this.props.appState.leaderboard.map((e,t)=>{let a=t+10*(this.props.appState.leaderboardRef.page-1)+1;a=a.toString().replace(/0/g,"O");const s=e.username.toString().replace(/0/g,"O"),i=R()(e.date,"YYYY-MM-DD").format("M/D/YY").replace(/0/g,"O"),o=e.years.replace(/0/g,"O");return n.a.createElement(P.a,{className:"details-container",key:t},n.a.createElement(A.a,{md:8,className:"left-col"},n.a.createElement("div",{className:"rank"},a,"."),n.a.createElement("div",{className:"flower-avatar-container"},n.a.createElement(W,{size:20,colors:e.avatar.colors,appState:this.props.appState})),n.a.createElement("div",{className:"username"},"\xa0 ",s),n.a.createElement("div",{className:"date"},i)),n.a.createElement(A.a,{md:4,className:"right-col"},n.a.createElement("div",null,o," years")))}),n.a.createElement("button",{className:"paginate "+(a>1?"":"disable"),onClick:()=>this.paginate("left")},n.a.createElement("img",{className:"arrow left",src:J.a,alt:"icon menu"})),n.a.createElement("button",{className:"paginate "+(t>9?"":"disable"),onClick:()=>this.paginate("right")},n.a.createElement("img",{className:"arrow right",src:J.a,alt:"icon menu"}))))}}var ae=te,se=a(34),ne=a.n(se),ie=a(21),oe=a.n(ie),re=a(35),le=a.n(re),ce=a(36),pe=a.n(ce),me=a(37),de=a.n(me),he=(a(80),a(39)),ge=a(38),ue=a.n(ge),Ee=a(16),ve=a.n(Ee),fe=a(17),Se=a.n(fe),we=a(18),ye=a.n(we);a(81),a(82);class Ne extends s.Component{constructor(){super(...arguments),this.state={username:"",email:"",newpassword:"",password:"",confirm:"",signup:{title:"Your garden is evolving! Nice.",subTitle:"Sign up to save progress and track high scores.",button:"SIGN UP",routeTo:"login",option1:{message:"It's cool. I just want to ",link:"keep playing without signing in."},option2:{message:"Already a member? ",link:"Log in."}},login:{title:"Welcome back.",subTitle:"Log in to save progress and track high scores.",button:"LOG IN",routeTo:"signup",option1:{message:"",link:""},option2:{message:"Don't have an account? ",link:"Sign up."}}},this.handleInput=e=>{this.setState({[e.target.name]:e.target.value})},this.focusIn=e=>{this.setState({[e+"State"]:!1,[e+"FontColor"]:""})},this.focusOut=e=>{""!==this.state[e]&&"signup"===this.props.appState.signUpLogIn&&["username","email"].includes(e)?(this.setState({[e+"State"]:ve.a,[e+"FontColor"]:"#666"}),I.checkAvailable({[e]:this.state[e]}).then(t=>{t.available?this.setState({[e+"State"]:Se.a,[e+"FontColor"]:"#51C856"}):this.setState({[e+"State"]:ye.a,[e+"FontColor"]:"#A70000"})})):this.setState({[e+"State"]:!0})},this.submit=()=>{if("login"===this.props.appState.signUpLogIn)I.logIn(this.props.appState,this.state);else if(this.state.password===this.state.confirm){const e=Object(he.a)({},this.state);delete e.confirm,I.signUp(this.props.appState,e)}else alert("your PASSWORD does NOT match your CONFIRM password")}}componentWillReceiveProps(e){e.appState.signUpLogIn&&("signup"===e.appState.signUpLogIn&&this.setState({username:"",email:"",password:"",confirm:""}),window.location.hash=e.appState.signUpLogIn||""),this.props.appState.signUpLogIn&&(e.appState.waitingforSession||(window.location.hash=e.appState.signUpLogIn||""))}render(){const e=this.props.appState.signUpLogIn||"login",t="login"===e?"signup":"login";let a=this.state[e].title;return window.gameHasBegun||(a="Welcome to Kiss The Sky!"),n.a.createElement("div",{className:"signup-login"},n.a.createElement("div",{className:"signup-login-container"},n.a.createElement("img",{id:"icon_exit_modal",src:ue.a,alt:"exit modal button",onClick:()=>{this.props.toggleSignUpLogIn(!1)}}),n.a.createElement("div",{className:"title"},a),n.a.createElement("div",{className:"sub-title"},this.state[e].subTitle),n.a.createElement("div",{className:"input-container"},n.a.createElement("div",{className:"inputs-container",onFocus:()=>{this.focusIn("username")},onBlur:()=>{this.focusOut("username")}},n.a.createElement("input",{name:"username",placeholder:"Username",spellCheck:"false",value:this.state.username,onChange:this.handleInput,style:{color:this.state.usernameFontColor}}),"signup"===this.props.appState.signUpLogIn&&this.state.usernameState&&""!==this.state.username&&n.a.createElement("img",{className:"icon_loading "+(this.state.usernameState===ve.a?" rotate":""),src:this.state.usernameState,alt:this.state.usernameState})),"signup"===e&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"inputs-container",onFocus:()=>{this.focusIn("email")},onBlur:()=>{this.focusOut("email")}},n.a.createElement("input",{name:"email",placeholder:"Email",spellCheck:"false",value:this.state.email,onChange:this.handleInput,style:{color:this.state.emailFontColor}}),this.state.emailState&&""!==this.state.email&&n.a.createElement("img",{className:"icon_loading "+(this.state.emailState===ve.a?" rotate":""),src:this.state.emailState,alt:this.state.emailState})),n.a.createElement("div",{className:"inputs-container",onFocus:()=>{this.focusIn("password")},onBlur:()=>{this.focusOut("password")}},n.a.createElement("input",{name:"password",type:"password",placeholder:"Password",spellCheck:"false",autoComplete:"new-password",value:this.state.password,onChange:this.handleInput}),""!==this.state.password&&this.state.passwordState&&n.a.createElement("img",{className:"icon_loading",src:this.state.password.length>=6?Se.a:ye.a,alt:"Password Check Icon"}))),"login"===e&&n.a.createElement("input",{name:"password",type:"password",placeholder:"Password",spellCheck:"false",value:this.state.password,onChange:this.handleInput}),"signup"===e&&n.a.createElement("div",{className:"inputs-container",onFocus:()=>{this.focusIn("confirm")},onBlur:()=>{this.focusOut("confirm")}},n.a.createElement("input",{name:"confirm",type:"password",placeholder:"Confirm Password",spellCheck:"false",value:this.state.confirm,onChange:this.handleInput}),""!==this.state.confirm&&this.state.confirmState&&n.a.createElement("img",{className:"icon_loading",src:this.state.password.length>=6&&this.state.password===this.state.confirm?Se.a:ye.a,alt:"Password Check Icon"}))),n.a.createElement("div",{className:"bottom-container"},n.a.createElement("button",{className:"btn",onClick:this.submit},this.state[e].button),n.a.createElement("br",null),n.a.createElement("div",{className:"options-container"},n.a.createElement("div",{className:"keep-playing"},this.state[e].option1.message,n.a.createElement("span",{className:"link",onClick:()=>{this.props.toggleSignUpLogIn(!1,!0)}},this.state[e].option1.link)),this.state[e].option2.message,n.a.createElement("span",{className:"link",onClick:()=>{this.props.toggleSignUpLogIn(t,!0)}},this.state[e].option2.link)))))}}var be=Ne;class ke extends s.Component{constructor(){super(...arguments),this.state={icon:ne.a,open:!1,history:this.props.history},this.toggleMenu=()=>{this.props.appState.set({openMenu:!this.state.open}),this.setState({open:!this.state.open})},this.toggleSignUpLogIn=(e,t)=>{this.props.appState.set({signUpLogIn:e}),e&&!t&&this.toggleMenu(),e?window.pause():window.resume()},this.overrideLightModeOnDashboardScreens=()=>{this.props.appState.showGame||(document.body.style.background="#202020",document.getElementById("logo").src=oe.a)},this.resumeLightModeIfOn=()=>{window.darkMode||(document.body.style.background="#FFFFFF",document.getElementById("logo").src=le.a)},this.resumeGame=()=>{window.gamePaused&&window.gameHasBegun&&(window.resume(),this.state.history.push("/game"),this.props.appState.set({showGame:!0}),this.resumeLightModeIfOn())},this.startGame=()=>{this.state.history.push("/game")}}componentWillReceiveProps(e){e.appState.openMenu&&!this.state.open&&(this.toggleMenu(),this.setState({open:!0}),window.menuOpen=!0),e.appState.forceClose&&(this.toggleMenu(),this.props.appState.set({forceClose:!1}))}render(){const e=this.props.history.location.pathname.split("/");let t="leaderboard"===e[1]?"leaderboard":e[2];t||(t="savedsessions"),this.props.appState.showGame&&(t="");const a=""!==e[1]&&"game"!==e[1],s=this.props.appState.showIcon,i=window.gameHasBegun;return this.overrideLightModeOnDashboardScreens(),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"menu"},n.a.createElement("img",{id:"logo",src:oe.a,alt:"logo",style:{opacity:"".concat(s||a?1:0),pointerEvents:"".concat(s||a?"":"none")}}),n.a.createElement("div",{className:"start-resume-container",onClick:i?this.resumeGame:this.startGame,style:{opacity:"".concat(a?1:0),pointerEvents:"".concat(a?"":"none")}},n.a.createElement("img",{className:"start-resume-button",src:i?pe.a:de.a,alt:"Resume Game Button"}),n.a.createElement("div",{className:i?"resume-text":"start-text"},i?"RESUME":"START")),n.a.createElement("div",{id:"menu_icon_container",className:"noListen menu-toggler",onClick:this.toggleMenu},n.a.createElement("svg",{id:"menu-icon-svg",viewBox:"0 0 100 100",style:{right:"".concat(this.props.appState.username?"57px":"2px")}},n.a.createElement("polyline",{id:"top-line",points:"7 20 50 20 93 20 "}),n.a.createElement("path",{id:"middle-line",d:"M7,50 L93,50 Z"}),n.a.createElement("path",{id:"bottom-line",d:"M7,80 L93,80 Z"})),n.a.createElement("div",{className:"flower-avatar-container"},n.a.createElement(W,{hide:!this.props.appState.username,colors:this.props.appState.avatar.colors,size:40,appState:this.props.appState}))),n.a.createElement("div",{id:"menu_dropdown_container",className:"noListen",style:{opacity:"".concat(this.state.open?1:0),pointerEvents:"".concat(this.state.open?"":"none")}},this.props.appState.username&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"username"},this.props.appState.username),n.a.createElement(r.b,{to:"/dashboard/savedsessions",className:"link menu-toggler",onClick:this.toggleMenu},n.a.createElement("div",{className:"btn "+("savedsessions"===t?"active":"")},"saved sessions")),n.a.createElement(r.b,{to:"/dashboard/myhighscores",className:"link menu-toggler",onClick:this.toggleMenu},n.a.createElement("div",{className:"btn "+("myhighscores"===t?"active":"")},"my high scores")),n.a.createElement(r.b,{to:"/dashboard/settings",className:"link menu-toggler",onClick:this.toggleMenu},n.a.createElement("div",{className:"btn "+("settings"===t?"active":"")},"settings"))),n.a.createElement(r.b,{to:"/leaderboard",className:"link menu-toggler",onClick:this.toggleMenu},n.a.createElement("div",{className:"btn leaderboard-btn "+("leaderboard"===t?"active":"")},"leaderboard")),n.a.createElement("div",{className:"divider"}),!this.props.appState.username&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"link btn menu-toggler",onClick:()=>{this.toggleSignUpLogIn("signup")}},"sign up"),n.a.createElement("div",{className:"link btn menu-toggler",onClick:()=>{this.toggleSignUpLogIn("login")}},"log in")),this.props.appState.username&&n.a.createElement("div",{className:"btn",onClick:()=>{I.logOut(this.props.appState)}},"log out"))),n.a.createElement("div",{className:"signUpLogIn-container",style:{opacity:"".concat(this.props.appState.signUpLogIn?1:0),pointerEvents:"".concat(this.props.appState.signUpLogIn?"":"none")}},n.a.createElement(be,{toggleSignUpLogIn:this.toggleSignUpLogIn,appState:this.props.appState})))}}var Ce=ke;class Me extends s.Component{constructor(){super(...arguments),this.state={manifest:{},username:null,_id:null,avatar:!1,created_at:!1,savedGames:!1,myHighScores:!1,showIcon:!1,leaderboardRef:{difficulty:"expert",page:1},leaderboard:[],openMenu:!1,waitingforSession:!0,showGame:!0,gameLoaded:!1,signUpLogIn:!1,fn:(e,t)=>{this[e](t)},set:e=>{this.setState(e)}}}componentDidMount(){window.scaleLanding(),window.updateUI(),x.getManifest(this.state),I.getUser(this.state)}handleHash(e){e?this.setState({signUpLogIn:e}):window.location.hash&&["#login","#signup"].includes(window.location.hash)&&this.setState({signUpLogIn:window.location.hash.split("#")[1]})}render(){return n.a.createElement("div",{className:"app"},n.a.createElement(r.a,null,n.a.createElement(l.a,{render:e=>n.a.createElement(Ce,Object.assign({},e,{appState:this.state}))}),this.state.showGame&&n.a.createElement(l.a,{render:e=>n.a.createElement(U,Object.assign({},e,{appState:this.state}))}),n.a.createElement(l.c,null,n.a.createElement(l.a,{exact:!0,path:"/(|landing|game|home)/",render:()=>n.a.createElement(Ie,null)}),n.a.createElement(l.a,{exact:!0,path:"/dashboard(|/savedsessions|/myhighscores|/settings)/",render:e=>n.a.createElement(ee,Object.assign({},e,{appState:this.state}))}),n.a.createElement(l.a,{exact:!0,path:"/leaderboard(|/beginner|/intermediate|/expert)/",render:e=>n.a.createElement(ae,Object.assign({},e,{appState:this.state}))}),n.a.createElement(l.a,{path:"*",render:()=>n.a.createElement(_,{appState:this.state})}))))}}function Ie(){return n.a.createElement(n.a.Fragment,null)}var xe=Me;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}],[[41,1,2]]]);
//# sourceMappingURL=main.86bd5021.chunk.js.map